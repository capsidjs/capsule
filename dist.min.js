let e;const t=e=>`color: ${e}; font-weight: bold;`;const n={};function o(e,t){if(!e)throw new Error(t)}function s(t){o("string"==typeof t&&!!t,"Component name must be a non-empty string");const s=`${t}-ðŸ’Š`,l=[({el:e})=>{e.classList.add(t),e.classList.add(s),e.addEventListener(`__ummount__:${t}`,(()=>{e.classList.remove(s)}),{once:!0})}],i=e=>{if(!e.classList.contains(s)){const t=r(new CustomEvent("__mount__",{bubbles:!1}),e);l.forEach((e=>{e(t)}))}};i.sel=`.${t}:not(.${s})`,n[t]=i,(e=e||new Promise((e=>{const t=document,n=()=>{"complete"===t.readyState&&(e(),t.removeEventListener("readystatechange",n))};t.addEventListener("readystatechange",n),n()}))).then((()=>{u(t)}));const a=new Proxy((()=>{}),{set:(e,n,o)=>c(t,l,n,o),apply(e,n,s){const r=s[0];return o("string"==typeof r,"Delegation selector must be a string. ${typeof selector} is given."),new Proxy({},{set:(e,n,o)=>c(t,l,n,o,r)})}}),_=e=>{l.push((({el:t})=>{t.classList.add(e)}))};return{on:a,is:_,sub:e=>_(`sub:${e}`),innerHTML:e=>{l.push((({el:t})=>{t.innerHTML=e}))}}}function r(e,t){return{e:e,el:t,query:e=>t.querySelector(e),queryAll:e=>t.querySelectorAll(e),pub:(e,t)=>{document.querySelectorAll(`.sub\\:${e}`).forEach((n=>{n.dispatchEvent(new CustomEvent(e,{bubbles:!1,detail:t}))}))},emit:(e,n)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))}}}function c(e,n,s,c,u){return o("function"==typeof c,`Event handler must be a function, ${typeof c} (${c}) is given`),"__mount__"===s?(n.push(c),!0):"__unmount__"===s?(n.push((({el:t})=>{t.addEventListener(`__unmount__:${e}`,(()=>{c(r(new CustomEvent("__unmount__"),t))}),{once:!0})})),!0):(n.push((({el:n})=>{const o=o=>{u&&![].some.call(n.querySelectorAll(u),(e=>e===o.target||e.contains(o.target)))||(!function({component:e,e:n,module:o,color:s}){if("boolean"==typeof __DEV__&&!__DEV__)return;const r=n.type;console.groupCollapsed(`${o}> %c${r}%c on %c${e}`,t(s||"#f012be"),"",t("#1a80cc")),console.log(n),n.target&&console.log(n.target),console.groupEnd()}({module:"ðŸ’Š",color:"#e0407b",e:o,component:e}),c(r(o,n)))};n.addEventListener(`__unmount__:${e}`,(()=>{n.removeEventListener(s,o)}),{once:!0}),n.addEventListener(s,o)})),!0)}function u(e,t){let s;e?(!function(e){o("string"==typeof e,"The name should be a string"),o(!!n[e],`The component of the given name is not registered: ${e}`)}(e),s=[e]):s=Object.keys(n),s.map((e=>{[].map.call((t||document).querySelectorAll(n[e].sel),n[e])}))}function l(e,t){t.dispatchEvent(new CustomEvent(`__unmount__:${e}`))}export{s as component};export{u as mount};export{l as unmount};