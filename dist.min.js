let e;const t=e=>`color: ${e}; font-weight: bold;`;const n={};function o(e,t){if(!e)throw new Error(t)}function s(t){o("string"==typeof t&&!!t,"Component name must be a non-empty string");const s=`${t}-ðŸ’Š`,u=[({el:e})=>{e.classList.add(t),e.classList.add(s)}],a=[],i=e=>{if(!e.classList.contains(s)){const t=c(new CustomEvent("__mount__",{bubbles:!1}),e);u.forEach((e=>{e(t)}))}};i.sel=`.${t}:not(.${s})`,n[t]=i,(e=e||new Promise((e=>{const t=document,n=()=>{"complete"===t.readyState&&(e(),t.removeEventListener("readystatechange",n))};t.addEventListener("readystatechange",n),n()}))).then((()=>{l(t)}));const m=new Proxy({},{set:(e,n,o)=>r(t,u,a,n,o),get:(e,n)=>new Proxy({},{set:(e,o,s)=>r(t,u,a,n,s,o)})}),d=e=>{u.push((({el:t})=>{t.classList.add(e)}))};return{on:m,is:d,sub:e=>d(`sub:${e}`),innerHTML:e=>{u.push((({el:t})=>{t.innerHTML=e}))}}}function c(e,t){return{e:e,el:t,query:e=>t.querySelector(e),pub:(e,t)=>{document.querySelectorAll(`.sub\\:${e}`).forEach((n=>{n.dispatchEvent(new CustomEvent(e,{bubbles:!1,detail:t}))}))},emit:(e,n)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))}}}function r(e,n,s,r,l,u){return o("function"==typeof l,`Event handler must be a function, ${typeof l} (${l}) is given`),"__mount__"===r?(n.push(l),!0):"__unmount__"===r?(s.push(l),!0):(n.push((({el:n})=>{const o=o=>{u&&![].some.call(n.querySelectorAll(u),(e=>e===o.target||e.contains(o.target)))||(!function({component:e,e:n,module:o,color:s}){const c=n.type;console.groupCollapsed(`${o}> %c${c}%c on %c${e}`,t(s||"#f012be"),"",t("#1a80cc")),console.log(n),n.target&&console.log(n.target),console.groupEnd()}({module:"ðŸ’Š",color:"#e0407b",e:o,component:e}),l(c(o,n)))};s.push((()=>{n.removeEventListener(r,o)})),n.addEventListener(r,o)})),!0)}function l(e,t){let s;e?(!function(e){o("string"==typeof e,"The name should be a string"),o(!!n[e],`The component of the given name is not registered: ${e}`)}(e),s=[e]):s=Object.keys(n),s.map((e=>{[].map.call((t||document).querySelectorAll(n[e].sel),n[e])}))}export{s as component};export{l as prep};